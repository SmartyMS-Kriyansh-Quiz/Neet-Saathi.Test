<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Leaderboard</title>
  <style>
    body { font-family: Arial, sans-serif; margin:0; background:#f4f6f9; }
    header { background:#222; color:#fff; padding:15px; text-align:center; }
    .container { max-width:900px; margin:20px auto; background:#fff; padding:20px; border-radius:10px; }
    table { width:100%; border-collapse: collapse; }
    th, td { border:1px solid #ccc; padding:8px; text-align:center; }
    th { background:#007bff; color:#fff; }
    .btn { background:#28a745; color:#fff; padding:10px 20px; border:none; border-radius:8px; cursor:pointer; font-weight:bold; margin-top:20px; }
  </style>
</head>
<body>
  <header>
    <h2>Leaderboard</h2>
  </header>
  <div class="container">
    <table id="leaderboardTable">
      <thead>
        <tr>
          <th>Name</th>
          <th>Marks</th>
          <th>Percentage</th>
          <th>Date</th>
        </tr>
      </thead>
      <tbody id="leaderboardBody">
      </tbody>
    </table>
    <button class="btn" onclick="goBack()">Back to Test</button>
  </div>

  <script>
    function loadLeaderboard() {
      let leaderboard = JSON.parse(localStorage.getItem("leaderboard") || "[]");
      let tbody = document.getElementById("leaderboardBody");
      console.log("Leaderboard Data:", leaderboard); // âœ… check here
      if(leaderboard.length === 0){
        tbody.innerHTML = "<tr><td colspan='4'>No records found!</td></tr>";
      } else {
        leaderboard.sort((a,b)=>b.marks - a.marks); // highest first
        tbody.innerHTML = leaderboard.map(record => `
          <tr>
            <td>${record.name}</td>
            <td>${record.marks}</td>
            <td>${record.percentage}%</td>
            <td>${record.date}</td>
          </tr>
        `).join("");
      }
    }

    function goBack(){
      window.location.href = "index.html";
    }

    window.onload = loadLeaderboard;
  </script>
</body>
</html>
